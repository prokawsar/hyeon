import{e as M,j as W}from"../chunks/singletons.460b18ee.js";import{_ as O,b as N}from"../chunks/environment.44b59ba9.js";import{g as j,b as z,e as V,s as D,o as E,f as q,n as G,d as K,u as Y,h as H,i as J}from"../chunks/scheduler.a9764574.js";import{S as Q,i as U,d as w,v as X,e as _,a as P,f,t as g,b as T,g as y,r as I,j as Z,k as x,l as $,m as ee}from"../chunks/index.ccb3c94d.js";import{p as F}from"../chunks/stores.2b9af5af.js";const te=(e="language")=>[localStorage.getItem(e)].filter(Boolean),ne=e=>()=>te(e),oe=()=>[...window.navigator.languages],l=Symbol.for("inlang"),ae=(e,t)=>({...e||{},[l]:t}),d=e=>e[l],re=(e,t)=>(e.params[l]=t,e),se=e=>e.params[l],ie=e=>new Promise(t=>setTimeout(t,e)),C=(e,t,r=!0)=>{for(const o of e)for(const n of t)if(n===o)return n;for(const o of e)if(r){const n=t.map(i=>(i.startsWith(o+"-")||o.startsWith(i+"-"))&&i).filter(Boolean).sort().sort((i,s)=>i.split("-").length-s.split("-").length);if(n.length)return n[0]}},ce=async({referenceLanguage:e,languages:t,allowRelated:r=!0},...o)=>{const n=[];for(const i of o){const s=await i(),a=C(s,t,!1);if(a)return a;n.push(...s)}return r&&C(n,t)||e},ue=e=>(t,r)=>{const o=e.body.find(n=>n.id.name===t);return o?o.pattern.elements.map(n=>le(n,r||{})).join(""):""},le=(e,t)=>{switch(e.type){case"Text":return e.value;case"Placeholder":return fe(e,t)}},fe=(e,t)=>{switch(e.body.type){case"VariableReference":return t[e.body.name]??""}},de=e=>!!e&&typeof e=="object"&&typeof e.then=="function",ge=()=>"",me=({readResource:e},t={resources:new Map,language:void 0,i:void 0})=>{const r=new Map;let o=!1;const n=c=>{if(t.resources.has(c))return o?Promise.resolve():void 0;if(r.has(c))return r.get(c);const m=h=>h&&t.resources.set(c,h),u=e(c);if(!de(u)){m(u);return}o=!0;const S=new Promise(async h=>{const B=await u;m(B),r.delete(c),h()});return r.set(c,S),S},i=c=>{t.language=c,t.i=void 0},s=()=>t.language,a=()=>{if(t.i)return t.i;const c=t.resources.get(t.language);return c?t.i=ue(c):ge};return{loadResource:n,switchLanguage:i,get language(){return s()},get i(){return a()}}},he=e=>{const t=me(e);return{...t,get language(){return t.language},get i(){return t.i},get referenceLanguage(){return e.referenceLanguage},get languages(){return e.languages}}},pe=async({fetch:e,language:t,referenceLanguage:r,languages:o,cache:n={}})=>{const i=he({readResource:async s=>n[s]??(n[s]=await e(`${M}/inlang/${s}.json`).then(a=>a.ok?a.json():void 0)),referenceLanguage:r,languages:o});return t&&(await i.loadResource(t),i.switchLanguage(t)),i},_e={},A=async(e,t)=>{const r=se(e);if(r)return r;if(!t)return await ie(0),A(e,t);let o;re(e,new Promise(i=>o=i));const n=await ye(e,t,e.data["[inlang]"]);return o(n),n},ye=async(e,t,r)=>{if(!r){const a=c=>()=>console.warn("inlang was not correctly set up on this page. Please check `routing.exclude` in your `inlang.config.js` file.")||c;return{i:a(""),loadResource:a(),switchLanguage:a(),languages:[]}}const{referenceLanguage:o,languages:n,language:i}=r,s=i||!t.initDetectors?i:await ce({referenceLanguage:o,languages:n},...t.initDetectors(e));return pe({fetch:e.fetch,language:s,referenceLanguage:o,languages:n,cache:_e})},we=e=>({use:t=>async r=>{const o=await A(r,e),n=await t(r,o),{"[inlang]":i,...s}=n||r.data;return ae(s,o)}}),be=we({initDetectors:()=>[ne(),oe]}).use(async()=>{}),Ae=Object.freeze(Object.defineProperty({__proto__:null,load:be},Symbol.toStringTag,{value:"Module"}));class Le extends Error{}class Re extends Le{constructor(t,r){super(),this.cause=r,this.message=`

--------------------------------------------------------------------------------

[${this.constructor.name}]

${t}

--------------------------------------------------------------------------------

Cause:
`}}const ke=()=>{try{return j(l)}catch(e){throw new Re(`You cannot directly access any '@inlang/sdk-js' imports in this scope.
Please read the docs for more information on how to workaround this temporary limitation:
https://inlang.com/documentation/sdk/sveltekit/advanced`,e)}return j(l)},ve=e=>z(l,e),Pe=W("goto"),p=()=>ke(),b=e=>{const{language:t,referenceLanguage:r,languages:o,i:n,loadResource:i}=e;ve({language:t,referenceLanguage:r,languages:o,i:n,loadResource:i,switchLanguage:async a=>{if(e.language!==a)return localStorage.setItem("language",a),e.switchLanguage(a),Pe(V(F).url,{invalidateAll:!0,noScroll:!0})},route:Se})},Se=e=>(console.info("Calling the function 'route' is unnecessary with this project configuration, because it only returns the input."),e),L=e=>globalThis[l]=e;const je="src/routes/+layout.svelte";function R(e){let t=e[0],r,o,n=k(e);const i={c:function(){n.c(),r=_()},l:function(a){n.l(a),r=_()},m:function(a,c){n.m(a,c),P(a,r,c),o=!0},p:function(a,c){c&1&&D(t,t=a[0])?(I(),g(n,1,1,G),T(),n=k(a),n.c(),f(n,1),n.m(r.parentNode,r)):n.p(a,c)},i:function(a){o||(f(n),o=!0)},o:function(a){g(n),o=!1},d:function(a){a&&y(r),n.d(a)}};return w("SvelteRegisterBlock",{block:i,id:R.name,type:"if",source:"(25:9) {#if language || !referenceLanguage}",ctx:e}),i}function k(e){let t,r;const o=e[4].default,n=q(o,e,e[3],null),i={c:function(){t=Z("main"),n&&n.c(),this.h()},l:function(a){t=x(a,"MAIN",{class:!0});var c=$(t);n&&n.l(c),c.forEach(y),this.h()},h:function(){ee(t,"class","bg-gray-20 pb-5"),K(t,je,26,0,1034)},m:function(a,c){P(a,t,c),n&&n.m(t,null),r=!0},p:function(a,c){n&&n.p&&(!r||c&8)&&Y(n,o,a,a[3],r?J(o,a[3],c,null):H(a[3]),null)},i:function(a){r||(f(n,a),r=!0)},o:function(a){g(n,a),r=!1},d:function(a){a&&y(t),n&&n.d(a)}};return w("SvelteRegisterBlock",{block:i,id:k.name,type:"key",source:"(25:45) {#key language}",ctx:e}),i}function v(e){let t,r,o=(e[0]||!e[1])&&R(e);const n={c:function(){o&&o.c(),t=_()},l:function(s){o&&o.l(s),t=_()},m:function(s,a){o&&o.m(s,a),P(s,t,a),r=!0},p:function(s,[a]){s[0]||!s[1]?o?(o.p(s,a),a&1&&f(o,1)):(o=R(s),o.c(),f(o,1),o.m(t.parentNode,t)):o&&(I(),g(o,1,1,()=>{o=null}),T())},i:function(s){r||(f(o),r=!0)},o:function(s){g(o),r=!1},d:function(s){s&&y(t),o&&o.d(s)}};return w("SvelteRegisterBlock",{block:n,id:v.name,type:"component",source:"",ctx:e}),n}function Ee(e,t,r){let{$$slots:o={},$$scope:n}=t;X("Layout",o,["default"]);let{data:i}=t;L(d(i)),b(d(i));const{referenceLanguage:s}=p();let{i:a,language:c}=p();E(()=>{O(()=>import("../chunks/tooltip.0641b579.js"),["../chunks/tooltip.0641b579.js","../assets/tooltip.cc4e381a.css"],import.meta.url)}),e.$$.on_mount.push(function(){i===void 0&&!("data"in t||e.$$.bound[e.$$.props.data])&&console.warn("<Layout> was created without expected prop 'data'")});const m=["data"];return Object.keys(t).forEach(u=>{!~m.indexOf(u)&&u.slice(0,2)!=="$$"&&u!=="slot"&&console.warn(`<Layout> was created with unknown prop '${u}'`)}),e.$$set=u=>{"data"in u&&r(2,i=u.data),"$$scope"in u&&r(3,n=u.$$scope)},e.$capture_state=()=>({addRuntimeToContext:b,getRuntimeFromContext:p,getRuntimeFromData:d,addRuntimeToGlobalThis:L,page:F,browser:N,onMount:E,data:i,referenceLanguage:s,i:a,language:c}),e.$inject_state=u=>{"data"in u&&r(2,i=u.data),"i"in u&&(a=u.i),"language"in u&&r(0,c=u.language)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{var u;e.$$.dirty&5&&(L(d(i)),b(d(i)),r(0,{i:a,language:c}=p(),c),(u=document.body.parentElement)==null||u.setAttribute("lang",c))},[c,s,i,n,o]}class Be extends Q{constructor(t){super(t),U(this,t,Ee,v,D,{data:2}),w("SvelteRegisterComponent",{component:this,tagName:"Layout",options:t,id:v.name})}get data(){throw new Error("<Layout>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<Layout>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Be as component,Ae as universal};
